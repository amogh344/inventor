{"ast":null,"code":"// src/pages/SuppliersPage.js\nimport React,{useState,useEffect}from'react';import{Container,Table,Spinner,Alert,Button,ButtonGroup}from'react-bootstrap';import{getSuppliers,createSupplier,updateSupplier,deleteSupplier}from'../services/api';import SupplierFormModal from'../components/SupplierFormModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SuppliersPage(){const[suppliers,setSuppliers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[showModal,setShowModal]=useState(false);const[selectedSupplier,setSelectedSupplier]=useState(null);const fetchSuppliers=async()=>{try{setLoading(true);const response=await getSuppliers();setSuppliers(response.data);setError('');}catch(err){setError('Failed to fetch suppliers.');console.error(err);}finally{setLoading(false);}};useEffect(()=>{fetchSuppliers();},[]);const handleShowCreateModal=()=>{setSelectedSupplier(null);setShowModal(true);};const handleShowEditModal=supplier=>{setSelectedSupplier(supplier);setShowModal(true);};const handleCloseModal=()=>{setShowModal(false);setSelectedSupplier(null);};const handleSave=async formData=>{try{if(selectedSupplier){await updateSupplier(selectedSupplier.id,formData);}else{await createSupplier(formData);}fetchSuppliers();handleCloseModal();}catch(err){setError(selectedSupplier?'Failed to update supplier.':'Failed to create supplier.');}};const handleDelete=async id=>{if(window.confirm('Are you sure?')){try{await deleteSupplier(id);fetchSuppliers();}catch(err){setError('Failed to delete supplier.');}}};if(loading)return/*#__PURE__*/_jsx(Container,{className:\"text-center mt-5\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\"})});return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center my-4\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Suppliers\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleShowCreateModal,children:\"Create Supplier\"})]}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:suppliers.map(supplier=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:supplier.name}),/*#__PURE__*/_jsx(\"td\",{children:supplier.email}),/*#__PURE__*/_jsx(\"td\",{children:supplier.phone}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",size:\"sm\",onClick:()=>handleShowEditModal(supplier),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:()=>handleDelete(supplier.id),children:\"Delete\"})]})})]},supplier.id))})]}),/*#__PURE__*/_jsx(SupplierFormModal,{show:showModal,handleClose:handleCloseModal,supplier:selectedSupplier,onSave:handleSave})]});}export default SuppliersPage;","map":{"version":3,"names":["React","useState","useEffect","Container","Table","Spinner","Alert","Button","ButtonGroup","getSuppliers","createSupplier","updateSupplier","deleteSupplier","SupplierFormModal","jsx","_jsx","jsxs","_jsxs","SuppliersPage","suppliers","setSuppliers","loading","setLoading","error","setError","showModal","setShowModal","selectedSupplier","setSelectedSupplier","fetchSuppliers","response","data","err","console","handleShowCreateModal","handleShowEditModal","supplier","handleCloseModal","handleSave","formData","id","handleDelete","window","confirm","className","children","animation","variant","onClick","striped","bordered","hover","responsive","map","name","email","phone","size","show","handleClose","onSave"],"sources":["/Users/abr/DAMN/inventory-system/frontend/src/pages/SuppliersPage.js"],"sourcesContent":["// src/pages/SuppliersPage.js\nimport React, { useState, useEffect } from 'react';\nimport { Container, Table, Spinner, Alert, Button, ButtonGroup } from 'react-bootstrap';\nimport { getSuppliers, createSupplier, updateSupplier, deleteSupplier } from '../services/api';\nimport SupplierFormModal from '../components/SupplierFormModal';\n\nfunction SuppliersPage() {\n  const [suppliers, setSuppliers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [selectedSupplier, setSelectedSupplier] = useState(null);\n\n  const fetchSuppliers = async () => {\n    try { setLoading(true); const response = await getSuppliers(); setSuppliers(response.data); setError(''); } \n    catch (err) { setError('Failed to fetch suppliers.'); console.error(err); } \n    finally { setLoading(false); }\n  };\n\n  useEffect(() => { fetchSuppliers(); }, []);\n\n  const handleShowCreateModal = () => { setSelectedSupplier(null); setShowModal(true); };\n  const handleShowEditModal = (supplier) => { setSelectedSupplier(supplier); setShowModal(true); };\n  const handleCloseModal = () => { setShowModal(false); setSelectedSupplier(null); };\n\n  const handleSave = async (formData) => {\n    try {\n      if (selectedSupplier) { await updateSupplier(selectedSupplier.id, formData); } \n      else { await createSupplier(formData); }\n      fetchSuppliers(); handleCloseModal();\n    } catch (err) { setError(selectedSupplier ? 'Failed to update supplier.' : 'Failed to create supplier.'); }\n  };\n\n  const handleDelete = async (id) => {\n    if (window.confirm('Are you sure?')) {\n      try { await deleteSupplier(id); fetchSuppliers(); } \n      catch (err) { setError('Failed to delete supplier.'); }\n    }\n  };\n\n  if (loading) return <Container className=\"text-center mt-5\"><Spinner animation=\"border\" /></Container>;\n\n  return (\n    <Container>\n      <div className=\"d-flex justify-content-between align-items-center my-4\">\n        <h1>Suppliers</h1>\n        <Button variant=\"primary\" onClick={handleShowCreateModal}>Create Supplier</Button>\n      </div>\n      {error && <Alert variant=\"danger\">{error}</Alert>}\n      <Table striped bordered hover responsive>\n        <thead>\n          <tr>\n            <th>Name</th><th>Email</th><th>Phone</th><th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {suppliers.map((supplier) => (\n            <tr key={supplier.id}>\n              <td>{supplier.name}</td><td>{supplier.email}</td><td>{supplier.phone}</td>\n              <td>\n                <ButtonGroup>\n                  <Button variant=\"outline-secondary\" size=\"sm\" onClick={() => handleShowEditModal(supplier)}>Edit</Button>\n                  <Button variant=\"outline-danger\" size=\"sm\" onClick={() => handleDelete(supplier.id)}>Delete</Button>\n                </ButtonGroup>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n      <SupplierFormModal show={showModal} handleClose={handleCloseModal} supplier={selectedSupplier} onSave={handleSave} />\n    </Container>\n  );\n}\n\nexport default SuppliersPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}